"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return R(new(R(function(){},{prototype:e})),t)}function i(e){return F(arguments,function(t){t!==e&&F(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function s(e){if(Object.keys)return Object.keys(e);var t=[];return F(e,function(e,n){t.push(n)}),t}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=a(n,r),l={},c=[];for(var m in u)if(u[m].params&&(i=s(u[m].params),i.length))for(var p in i)o(c,i[p])>=0||(c.push(i[p]),l[i[p]]=e[i[p]]);return R({},l,t)}function l(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function c(e,t){var n={};return F(e,function(e){n[e]=t[e]}),n}function m(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return F(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==o(n,r)&&(t[r]=e[r]);return t}function f(e,t){var n=I(e),r=n?[]:{};return F(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function d(e,t){var n=I(e)?[]:{};return F(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,a=2,u={},l=[],c=u,m=R(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function f(e,n){if($[n]!==a){if(v.push(n),$[n]===r)throw v.splice(0,o(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if($[n]=r,T(e))h.push(n,[function(){return t.get(e)}],l);else{var i=t.annotate(e);F(i,function(e){e!==n&&u.hasOwnProperty(e)&&f(u[e],e)}),h.push(n,e,i)}v.pop(),$[n]=a}}function d(e){return V(e)&&e.then&&e.$$promises}if(!V(u))throw new Error("'invocables' must be an object");var g=s(u||{}),h=[],v=[],$={};return F(u,f),u=v=$=null,function(r,a,s){function o(){--y||(w||i(b,a.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(b))}function u(e){v.$$failure=e,f.reject(e)}function l(n,i,a){function l(e){m.reject(e),u(e)}function c(){if(!N(v.$$failure))try{m.resolve(t.invoke(i,s,b)),m.promise.then(function(e){b[n]=e,o()},l)}catch(e){l(e)}}var m=e.defer(),p=0;F(a,function(e){$.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,$[e].then(function(t){b[e]=t,--p||c()},l))}),p||c(),$[n]=m.promise}if(d(r)&&s===n&&(s=a,a=r,r=null),r){if(!V(r))throw new Error("'locals' must be an object")}else r=c;if(a){if(!d(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=m;var f=e.defer(),v=f.promise,$=v.$$promises={},b=R({},r),y=1+h.length/3,w=!1;if(N(a.$$failure))return u(a.$$failure),v;a.$$inheritedValues&&i(b,p(a.$$inheritedValues,g)),R($,a.$$promises),a.$$values?(w=i(b,p(a.$$values,g)),v.$$inheritedValues=p(a.$$values,g),o()):(a.$$inheritedValues&&(v.$$inheritedValues=p(a.$$inheritedValues,g)),a.then(o,u));for(var x=0,j=h.length;j>x;x+=3)r.hasOwnProperty(h[x])?o():l(h[x],h[x+1],h[x+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function h(e,t,n){this.fromConfig=function(e,t,n){return N(e.template)?this.fromString(e.template,t):N(e.templateUrl)?this.fromUrl(e.templateUrl,t):N(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return O(e)?e(t):e},this.fromUrl=function(n,r){return O(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function a(t,n,r,i){if(h.push(t),d[t])return d[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new L.Param(t,n,r,i),g[t]}function s(e,t,n,r){var i=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return a+i[0]+t+i[1]}function o(i,a){var s,o,u,l,c;return s=i[2]||i[3],c=t.params[s],u=e.substring(p,i.index),o=a?i[4]:i[4]||("*"==i[1]?".*":null),l=L.type(o||"string")||r(L.type("string"),{pattern:new RegExp(o,t.caseInsensitive?"i":n)}),{id:s,regexp:o,segment:u,type:l,cfg:c}}t=R({params:{}},V(t)?t:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m="^",p=0,f=this.segments=[],d=i?i.params:{},g=this.params=i?i.params.$$new():new L.ParamSet,h=[];this.source=e;for(var v,$,b;(u=l.exec(e))&&(v=o(u,!1),!(v.segment.indexOf("?")>=0));)$=a(v.id,v.type,v.cfg,"path"),m+=s(v.segment,$.type.pattern.source,$.squash,$.isOptional),f.push(v.segment),p=l.lastIndex;b=e.substring(p);var y=b.indexOf("?");if(y>=0){var w=this.sourceSearch=b.substring(y);if(b=b.substring(0,y),this.sourcePath=e.substring(0,p+y),w.length>0)for(p=0;u=c.exec(w);)v=o(u,!0),$=a(v.id,v.type,v.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";m+=s(b)+(t.strict===!1?"/?":"")+"$",f.push(b),this.regexp=new RegExp(m,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=h}function $(e){R(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function a(){return{strict:g,caseInsensitive:p}}function u(e){return O(e)||I(e)&&O(e[e.length-1])}function l(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(y[e.name],m.invoke(e.def))}}function c(e){R(this,e||{})}L=this;var m,p=!1,g=!0,h=!1,y={},w=!0,x=[],j={string:{encode:e,decode:i,is:function(e){return null==e||!N(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return N(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!m)throw new Error("Injectable functions cannot be called at configuration time");return m.invoke(e.value)},this.caseInsensitive=function(e){return N(e)&&(p=e),p},this.strictMode=function(e){return N(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!N(e))return h;if(e!==!0&&e!==!1&&!T(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return h=e,e},this.compile=function(e,t){return new v(e,R(a(),t))},this.isMatcher=function(e){if(!V(e))return!1;var t=!0;return F(v.prototype,function(n,r){O(n)&&(t=t&&N(e[r])&&O(e[r]))}),t},this.type=function(e,t,n){if(!N(t))return y[e];if(y.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return y[e]=new $(R({name:e},t)),n&&(x.push({name:e,def:n}),w||l()),this},F(j,function(e,t){y[t]=new $(R({name:t},e))}),y=r(y,{}),this.$get=["$injector",function(e){return m=e,w=!1,l(),F(j,function(e,t){y[t]||(y[t]=new $(e))}),this}],this.Param=function(e,t,r,i){function a(e){var t=V(e)?s(e):[],n=-1===o(t,"value")&&-1===o(t,"type")&&-1===o(t,"squash")&&-1===o(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof $?t.type:new $(t.type):"config"===r?y.any:y.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return R(t,n,r).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!N(n)||null==n)return h;if(n===!0||T(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,r,i){var a,s,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return a=I(e.replace)?e.replace:[],T(i)&&a.push({from:i,to:n}),s=d(a,function(e){return e.from}),f(u,function(e){return-1===o(s,e.from)}).concat(a)}function v(){if(!m)throw new Error("Injectable functions cannot be called at configuration time");var e=m.invoke(r.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=d(f(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),N(e)?x.type.$normalize(e):v()}function w(){return"{Param:"+e+" "+t+" squash: '"+S+"' optional: "+C+"}"}var x=this;r=a(r),t=l(r,t,i);var j=c();t=j?t.$asArray(j,"search"===i):t,"string"!==t.name||j||"path"!==i||r.value!==n||(r.value="");var C=r.value!==n,S=p(r,C),A=g(r,j,C,S);R(this,{id:e,type:t,location:i,array:j,squash:S,replace:A,isOptional:C,value:b,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return r(this,R(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=s(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),F(t,function(t){F(s(t),function(t){-1===o(e,t)&&-1===o(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return F(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return F(r.$$keys(),function(i){var a=e&&e[i],s=t&&t[i];r[i].type.equals(a,s)||(n=!1)}),n},$$validates:function(e){var r,i,a,s,o,u=this.$$keys();for(r=0;r<u.length&&(i=this[u[r]],a=e[u[r]],a!==n&&null!==a||!i.isOptional);r++){if(s=i.type.$normalize(a),!i.type.is(s))return!1;if(o=i.type.encode(s),t.isString(o)&&!i.type.pattern.exec(o))return!1}return!0},$$parent:n},this.ParamSet=c}function y(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function s(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return N(r)?r:!0}function o(r,i,a,s){function o(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function p(e){function t(e){var t=e(a,r);return t?(T(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){d&&r.url()===d;d=n;var i,s=l.length;for(i=0;s>i;i++)if(t(l[i]))return;c&&t(c)}}function f(){return u=u||i.$on("$locationChangeSuccess",p)}var d,g=s.baseHref(),h=r.url();return m||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(h=r.url()):void(r.url()!==h&&(r.url(h),r.replace()))},push:function(e,t,i){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),r.url(a),d=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,a){if(!n.validates(i))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled);var u=n.format(i);if(a=a||{},s||null===u||(u="#"+e.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=o(u,s,a.absolute),!a.absolute||!u)return u;var l=!s&&u?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,l,u].join("")}}}var u,l=[],c=null,m=!1;this.rule=function(e){if(!O(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(T(e)){var t=e;e=function(){return t}}else if(!O(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,o=T(t);if(T(e)&&(e=r.compile(e)),!o&&!O(t)&&!I(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return o&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),R(function(n,r){return s(n,t,e.exec(r.path(),r.search()))},{prefix:T(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return o&&(n=t,t=["$match",function(e){return a(n,e)}]),R(function(n,r){return s(n,t,e.exec(r.path()))},{prefix:i(e)})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),m=e},this.$get=o,o.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var r=T(e),i=r?e:e.name,s=a(i);if(s){if(!t)throw new Error("No reference point given for path '"+i+"'");t=p(t);for(var o=i.split("."),u=0,l=o.length,c=t;l>u;u++)if(""!==o[u]||0!==u){if("^"!==o[u])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;o=o.slice(u).join("."),i=c.name+(c.name&&o?".":"")+o}var m=S[i];return!m||!r&&(r||m!==e&&m.self!==e)?n:m}function f(e,t){A[e]||(A[e]=[]),A[e].push(t)}function g(e){for(var t=A[e]||[];t.length;)h(t.shift())}function h(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!T(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):T(t.parent)?t.parent:V(t.parent)&&T(t.parent.name)?t.parent.name:"";if(i&&!S[i])return f(i,t.self);for(var a in M)O(M[a])&&(t[a]=M[a](t,M.$delegates[a]));return S[n]=t,!t[D]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){C.$current.navigable==t&&l(e,n)||C.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function $(e){for(var t=e.split("."),n=C.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(o(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(o(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return T(e)&&!N(t)?M[e]:O(t)&&T(e)?(M[e]&&!M.$delegates[e]&&(M.$delegates[e]=M[e]),M[e]=t,this):this}function y(e,t){return V(e)?t=e:t.name=e,h(t),this}function w(e,i,a,o,m,f,g,h,b){function y(t,n,r,a){var s=e.$broadcast("$stateNotFound",t,n,r);if(s.defaultPrevented)return g.update(),k;if(!s.retry)return null;if(a.$retry)return g.update(),E;var o=C.transition=i.when(s.retry);return o.then(function(){return o!==C.transition?A:(t.options.$retry=!0,C.transitionTo(t.to,t.toParams,t.options))},function(){return k}),g.update(),o}function w(e,n,r,s,u,l){function p(){var n=[];return F(e.views,function(r,i){var s=r.resolve&&r.resolve!==e.resolve?r.resolve:{};s.$template=[function(){return a.load(i,{view:r,locals:u.globals,params:f,notify:l.notify})||""}],n.push(m.resolve(s,u.globals,u.resolve,e).then(function(n){if(O(r.controllerProvider)||I(r.controllerProvider)){var a=t.extend({},s,u.globals);n.$$controller=o.invoke(r.controllerProvider,null,a)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,u[i]=n}))}),i.all(n).then(function(){return u.globals})}var f=r?n:c(e.params.$$keys(),n),d={$stateParams:f};u.resolve=m.resolve(e.resolve,d,u.resolve,e);var g=[u.resolve.then(function(e){u.globals=e})];return s&&g.push(s),i.all(g).then(p).then(function(e){return u})}var A=i.reject(new Error("transition superseded")),M=i.reject(new Error("transition prevented")),k=i.reject(new Error("transition aborted")),E=i.reject(new Error("transition failed"));return j.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:j.self,$current:j,transition:null},C.reload=function(e){return C.transitionTo(C.current,f,{reload:e||!0,inherit:!1,notify:!0})},C.go=function(e,t,n){return C.transitionTo(e,t,R({inherit:!0,relative:C.$current},n))},C.transitionTo=function(t,n,a){n=n||{},a=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var s,l=C.$current,m=C.params,d=l.path,h=p(t,a.relative),v=n["#"];if(!N(h)){var $={to:t,toParams:n,options:a},b=y($,l.self,m,a);if(b)return b;if(t=$.to,n=$.toParams,a=$.options,h=p(t,a.relative),!N(h)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(h[D])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=u(f,n||{},C.$current,h)),!h.params.$$validates(n))return E;n=h.params.$$values(n),t=h;var S=t.path,k=0,q=S[k],P=j.locals,O=[];if(a.reload){if(T(a.reload)||V(a.reload)){if(V(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var I=a.reload===!0?d[0]:p(a.reload);if(a.reload&&!I)throw new Error("No such reload state '"+(T(a.reload)?a.reload:a.reload.name)+"'");for(;q&&q===d[k]&&q!==I;)P=O[k]=q.locals,k++,q=S[k]}}else for(;q&&q===d[k]&&q.ownParams.$$equals(n,m);)P=O[k]=q.locals,k++,q=S[k];if(x(t,n,l,m,P,a))return v&&(n["#"]=v),C.params=n,_(C.params,f),a.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),g.update(!0)),C.transition=null,i.when(C.current);if(n=c(t.params.$$keys(),n||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,m).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,m),g.update(),M;for(var F=i.when(P),L=k;L<S.length;L++,q=S[L])P=O[L]=r(P),F=w(q,n,q===t,F,P,a);var U=C.transition=F.then(function(){var r,i,s;if(C.transition!==U)return A;for(r=d.length-1;r>=k;r--)s=d[r],s.self.onExit&&o.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(r=k;r<S.length;r++)i=S[r],i.locals=O[r],i.self.onEnter&&o.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),C.transition!==U?A:(C.$current=t,C.current=t.self,C.params=n,_(C.params,f),C.transition=null,a.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,m),g.update(!0),C.current)},function(r){return C.transition!==U?A:(C.transition=null,s=e.$broadcast("$stateChangeError",t.self,n,l.self,m,r),s.defaultPrevented||g.update(),i.reject(r))});return U},C.is=function(e,t,r){r=R({relative:C.$current},r||{});var i=p(e,r.relative);return N(i)?C.$current!==i?!1:t?l(i.params.$$values(t),f):!0:n},C.includes=function(e,t,r){if(r=R({relative:C.$current},r||{}),T(e)&&v(e)){if(!$(e))return!1;e=C.$current.name}var i=p(e,r.relative);return N(i)?N(C.$current.includes[i.name])?t?l(i.params.$$values(t),f,s(t)):!0:!1:n},C.href=function(e,t,r){r=R({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{});var i=p(e,r.relative);if(!N(i))return null;r.inherit&&(t=u(f,t||{},C.$current,i));var a=i&&r.lossy?i.navigable:i;return a&&a.url!==n&&null!==a.url?g.href(a.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},C.get=function(e,t){if(0===arguments.length)return d(s(S),function(e){return S[e].self});var n=p(e,t||C.$current);return n&&n.self?n.self:null},C}function x(e,t,n,r,i,a){function s(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),a=m.apply({},[e.params].concat(i)),s=new L.ParamSet(a);return s.$$equals(t,n)}return!a.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&s(n,r,t))?!0:void 0}var j,C,S={},A={},D="abstract",M={parent:function(e){if(N(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):j},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=R({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(T(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||j).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new L.ParamSet;return F(e.params||{},function(e,n){t[n]||(t[n]=new L.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?R(e.parent.params.$$new(),e.ownParams):new L.ParamSet},views:function(e){var t={};return F(N(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?R({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};j=h({name:"",url:"^",views:null,"abstract":!0}),j.navigable=null,this.decorator=b,this.state=y,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=R(a,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function j(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function C(e,n,r,i){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function s(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var r=l.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(u){var r=u&&u(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var o=a(),u=o("$animator"),l=o("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,o){return function(n,a,u){function l(){m&&(m.remove(),m=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){m=null}),m=p,p=null)}function c(s){var c,m=A(n,u,a,i),$=m&&e.$current&&e.$current.locals[m];if(s||$!==d){c=n.$new(),d=e.$current.locals[m];var b=o(c,function(e){v.enter(e,a,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(h)&&!h||n.$eval(h))&&r(e)}),l()});p=b,f=c,f.$emit("$viewContentLoaded"),f.$eval(g)}}var m,p,f,d,g=u.onload||"",h=u.autoscroll,v=s(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function S(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,s,o){var u=n.$current,l=A(i,o,s,r),c=u&&u.locals[l];if(c){s.data("$uiView",{name:l,state:c.$$state}),s.html(c.$template?c.$template:a);var m=e(s.contents());if(c.$$controller){c.$scope=i,c.$element=s;var p=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=p),s.data("$ngControllerController",p),s.children().data("$ngControllerController",p)}m(i)}}}}}function A(e,t,n,r){var i=r(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function D(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function k(e,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,s,o){var u=D(s.uiSref,e.current.name),l=null,c=M(a)||e.$current,m="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href"))?"xlink:href":"href",p=null,f="A"===a.prop("tagName").toUpperCase(),d="FORM"===a[0].nodeName,g=d?"action":m,h=!0,v={relative:c,inherit:!0},$=i.$eval(s.uiSrefOpts)||{};t.forEach(r,function(e){e in $&&(v[e]=$[e])});var b=function(n){if(n&&(l=t.copy(n)),h){p=e.href(u.state,l,v);var r=o[1]||o[0];return r&&r.$$addStateInfo(u.state,l),null===p?(h=!1,!1):void s.$set(g,p)}};u.paramExpr&&(i.$watch(u.paramExpr,function(e,t){e!==l&&b(e)},!0),l=t.copy(i.$eval(u.paramExpr))),b(),d||a.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=n(function(){e.go(u.state,l,v)});t.preventDefault();var s=f&&!p?1:0;t.preventDefault=function(){s--<=0&&n.cancel(i)}}})}}}function E(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function a(){s()?r.addClass(u):r.removeClass(u)}function s(){for(var e=0;e<l.length;e++)if(o(l[e].state,l[e].params))return!0;return!1}function o(t,n){return"undefined"!=typeof i.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var u,l=[];u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var i=e.get(t,M(r));l.push({state:i||{name:t},params:n}),a()},t.$on("$stateChangeSuccess",a)}]}}function q(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function P(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var N=t.isDefined,O=t.isFunction,T=t.isString,V=t.isObject,I=t.isArray,F=t.forEach,R=t.extend,_=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),h.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",h);var L;v.prototype.concat=function(e,t){var n={caseInsensitive:L.caseInsensitive(),strict:L.strictMode(),squash:L.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,R(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=d(r,t);return d(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,a,s,o=this.parameters(),u=o.length,l=this.segments.length-1,c={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){s=o[i];var m=this.params[s],p=r[i+1];for(a=0;a<m.replace;a++)m.replace[a].from===p&&(p=m.replace[a].to);p&&m.array===!0&&(p=n(p)),c[s]=m.value(p)}for(;u>i;i++)s=o[i],c[s]=this.params[s].value(t[s]);return c},v.prototype.parameters=function(e){return N(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var a,s=!1,o=n.length-1,u=r.length,l=n[0];for(a=0;u>a;a++){var c=o>a,m=r[a],p=i[m],f=p.value(e[m]),g=p.isOptional&&p.type.equals(p.value(),f),h=g?p.squash:!1,v=p.type.encode(f);if(c){var $=n[a+1];if(h===!1)null!=v&&(l+=I(v)?d(v,t).join("-"):encodeURIComponent(v)),l+=$;else if(h===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=$.match(b)[1]}else T(h)&&(l+=h+$)}else{if(null==v||g&&h!==!1)continue;I(v)||(v=[v]),v=d(v,encodeURIComponent).join("&"+m+"="),l+=(s?"&":"?")+(m+"="+v),s=!0}}return l},$.prototype.is=function(e,t){return!0},$.prototype.encode=function(e,t){return e},$.prototype.decode=function(e,t){return e},$.prototype.equals=function(e,t){return e==t},$.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},$.prototype.pattern=/.*/,$.prototype.toString=function(){return"{Type:"+this.name+"}"},$.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},$.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return I(e)?e:N(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function s(e){return!e}function o(e,t){return function(n){n=i(n);var r=d(n,e);return t===!0?0===f(r,s).length:a(r)}}function u(e){return function(t,n){var r=i(t),a=i(n);if(r.length!==a.length)return!1;for(var s=0;s<r.length;s++)if(!e(r[s],a[s]))return!1;return!0}}this.encode=o(r(e,"encode")),this.decode=o(r(e,"decode")),this.is=o(r(e,"is"),!0),this.equals=u(r(e,"equals")),this.pattern=e.pattern,this.$normalize=o(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",j),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",C),t.module("ui.router.state").directive("uiView",S),k.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),q.$inject=["$state"],P.$inject=["$state"],t.module("ui.router.state").filter("isState",q).filter("includedByState",P)}(window,window.angular);
